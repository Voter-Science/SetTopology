{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///./node_modules/trc-httpshim/xclient.js","webpack:///./src/index.tsx","webpack:///external \"ReactDOM\"","webpack:///./src/components/Hello.tsx","webpack:///./node_modules/trc-httpshim/httpshim-browser.js","webpack:///./node_modules/trc-httpshim/common.js","webpack:///./node_modules/trc-sheet/sheet.js","webpack:///./node_modules/trc-core/core.js","webpack:///./node_modules/trc-sheet/sheetContents.js","webpack:///./src/components/ColumnSelector.tsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","http","HttpClientFactory","startsWith","str","word","lastIndexOf","NewHttpClient","url","host","substr","HttpClient","UrlBuilder","path","_this","this","toString","_url","addQuery","undefined","del","q","indexOf","encodeURIComponent","XClient","New","endpoint","authToken","gpsProvider","httpClient","x","_authToken","_httpClient","_gpsProvider","getAsync","relativePath","sendAsync","deleteAsync","putAsync","body","postAsync","patchAsync","method","Promise","resolve","reject","geo","getLoc","ReactDOM","Hello_1","XC","trcSheet","ColumnSelector_1","_trcGlobal","SheetName","Component","[object Object]","createElement","_info","Name","Major","props","super","window","mainMajor","state","children","SheetId","sheetRef","Server","AuthToken","sheetClient","SheetClient","setState","getInfoAsync","then","info","assign","render","ColumnSelector","OnChange","e","alert","Hello","compiler","framework","document","getElementById","common","protocol","hostName","_protocol","_hostname","verb","authHeader","onSuccess","onFailure","$","ajax","type","contentType","beforeSend","xhr","setRequestHeader","Lat","Long","data","JSON","stringify","success","textStatus","status","loc","getResponseHeader","setTimeout","error","statusText","errorThrown","obj","responseJSON","Message","code","msg","makeError","MockGpsTracker","_geo","setLocation","message","Code","InternalDetails","CorrelationId","core","sheetContents_1","Validators","ValidateColumnName","_columnNameRegex","test","ValidateHelper","columnName","description","possibleValues","length","k","item","ValidateColumnInfo","Description","PossibleValues","Expression","Semantic","IsReadOnly","ValidateAddColumn","payload","ColumnName","RegExp","PolygonKind","NextLinkEnumerable","firstSegment","_firstSegment","_http","ForEach","handler","worker","de","results","Results","NextLink","segment","catch","sheetId","_sheetId","getId","getSheetById","idChild","getUrlBase","getSheetContentsAsync","whereExpression","selectColumns","version","join","getRecIdsAsync","ColumnNames","RecId","contents","postUpdateSingleRowAsync","recId","columnNames","newValues","SheetContents","FromRow","postUpdateAsync","postUpdateSingleCellAsync","newValue","FromSingleCell","values","getDeltaRangeAsync","startVersion","endVersion","uri","getDeltaAsync","findVersionAsync","timestamp","toISOString","result","VersionNumber","getRebaseLogAsync","getChildrenAsync","ChildrenIds","createChildSheet","Id","createChildSheetFromFilterAsync","sharesSandbox","Filter","WhereExpression","RecIds","ShareSandbox","deleteChildSheetAsync","childSheetId","postCustomDataAsync","kind","dataId","getCustomDataAsync","deleteCustomDataAsync","listCustomDataAsync","list","ArrayEnumerable","Entries","SheetAdminClient","_client","postNewExpressionAsync","expression","getOpStatusAsync","postOpAsync","Kind","Cookie","Payload","postOpRefreshAsync","postOpCreateOrUpdateColumnsAsync","columns","Infos","forEach","postOpAddQuestionAsync","questions","Columns","postOpDeleteQuestionAsync","WaitAsync","waitHelper","CurrentOp","err","items","_items","UserClient","getUserInfoAsync","userId","getActivityFeedAsync","FirstName","LastName","Party","Address","City","Zip","XVoted","XTargetPri","PrecinctName","Cellphone","HHID","XUser","XApp","XLat","XLong","XLastModified","XIPAddress","SheetContentsIndex","source","_map","_source","cRecId","lookupRecId","idx","set","getContents","getSheetContentsIndex","toCsv","colKeys","keys","grid","rowCount","index","push","row","_i","colKeys_1","val","direct","replace","content","arr","callback","colRecId","column","KeepRows","fpInclude","len","iRow","TakeN","sheet","topN","sheet2","slice","AddTimestamp","gps","curTime","Date","cs","vs","Append","newColumns","numRows","handleChange","map","event","target","ci","onChange","getValues"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = React;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar http = require(\"./httpshim\");\r\nvar HttpClientFactory = (function () {\r\n    function HttpClientFactory() {\r\n    }\r\n    HttpClientFactory.startsWith = function (str, word) {\r\n        return str.lastIndexOf(word, 0) === 0;\r\n    };\r\n    HttpClientFactory.NewHttpClient = function (url) {\r\n        if (HttpClientFactory.startsWith(url, \"https://\")) {\r\n            var host = url.substr(8);\r\n            return new http.HttpClient(\"https\", host);\r\n        }\r\n        if (HttpClientFactory.startsWith(url, \"http://\")) {\r\n            var host = url.substr(7);\r\n            return new http.HttpClient(\"http\", host);\r\n        }\r\n        throw \"Invalid url protocol: \" + url;\r\n    };\r\n    return HttpClientFactory;\r\n}());\r\nvar UrlBuilder = (function () {\r\n    function UrlBuilder(path) {\r\n        var _this = this;\r\n        this.toString = function () { return _this._url; };\r\n        this._url = path;\r\n    }\r\n    UrlBuilder.prototype.addQuery = function (key, value) {\r\n        if (value == null || value == undefined) {\r\n            return;\r\n        }\r\n        var q = this._url;\r\n        var del;\r\n        if (q.indexOf(\"?\") == -1) {\r\n            del = \"?\";\r\n        }\r\n        else {\r\n            del = \"&\";\r\n        }\r\n        this._url = q + del + key + \"=\" + encodeURIComponent(value.toString());\r\n    };\r\n    return UrlBuilder;\r\n}());\r\nexports.UrlBuilder = UrlBuilder;\r\nvar XClient = (function () {\r\n    function XClient() {\r\n    }\r\n    XClient.New = function (endpoint, authToken, gpsProvider) {\r\n        var httpClient = HttpClientFactory.NewHttpClient(endpoint);\r\n        var x = new XClient();\r\n        x._authToken = authToken;\r\n        x._httpClient = httpClient;\r\n        if (gpsProvider == undefined) {\r\n            gpsProvider = null;\r\n        }\r\n        x._gpsProvider = gpsProvider;\r\n        return x;\r\n    };\r\n    XClient.prototype.getAsync = function (relativePath) {\r\n        return this.sendAsync(\"GET\", relativePath);\r\n    };\r\n    XClient.prototype.deleteAsync = function (relativePath) {\r\n        return this.sendAsync(\"DELETE\", relativePath);\r\n    };\r\n    XClient.prototype.putAsync = function (relativePath, body) {\r\n        return this.sendAsync(\"PUT\", relativePath, body);\r\n    };\r\n    XClient.prototype.postAsync = function (relativePath, body) {\r\n        return this.sendAsync(\"POST\", relativePath, body);\r\n    };\r\n    XClient.prototype.patchAsync = function (relativePath, body) {\r\n        return this.sendAsync(\"POST\", relativePath, body);\r\n    };\r\n    XClient.prototype.sendAsync = function (method, relativePath, body) {\r\n        var _this = this;\r\n        if (body === void 0) { body = null; }\r\n        var url = relativePath.toString();\r\n        return new Promise(function (resolve, reject) {\r\n            var geo = null;\r\n            if (_this._gpsProvider != null) {\r\n                geo = _this._gpsProvider.getLoc();\r\n            }\r\n            _this._httpClient.sendAsync(method, url, body, \"Bearer \" + _this._authToken, geo, resolve, reject);\r\n        });\r\n    };\r\n    return XClient;\r\n}());\r\nexports.XClient = XClient;\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport { Hello } from \"./components/Hello\";\r\n\r\nimport * as XC from 'trc-httpshim/xclient'\r\nimport * as common from 'trc-httpshim/common'\r\nimport * as core from 'trc-core/core'\r\nimport * as trcSheet from 'trc-sheet/sheet'\r\nimport { checkPropTypes } from \"prop-types\";\r\n\r\n\r\nimport { ColumnSelector } from \"./components/ColumnSelector\";\r\n\r\n// https://www.leighhalliday.com/introducing-react-context-api\r\n// const AppContext = React.createContext( {});\r\n\r\n// Replace this with a react context? \r\nvar _trcGlobal : IMajorState;\r\ndeclare var _trcGlobal : IMajorState;\r\n\r\n// Display the current sheet name \r\nexport class SheetName extends React.Component<{}, {}> {\r\n    render() {        \r\n            return <div>Major: {_trcGlobal._info.Name}</div>            \r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface IMajorProps { \r\n    children? : any;\r\n}\r\nexport interface IMajorState {\r\n    //AuthToken: string;\r\n    SheetClient: trcSheet.SheetClient;\r\n    SheetId: string;\r\n\r\n    _info: trcSheet.ISheetInfoResult;\r\n    // Sheet Contents?  Sheet History? \r\n}\r\n\r\nexport class Major extends React.Component<IMajorProps, IMajorState> {\r\n\r\n    public constructor(props: any) {\r\n        super(props);\r\n\r\n        var x: any = window;\r\n        x.mainMajor = this;\r\n    }\r\n    render() {\r\n        if (!this.state) {\r\n            return <div>Loading...</div>\r\n        } else {\r\n            if (!this.state._info) {\r\n                return <div>Major! Not yet loaded: {this.state.SheetId}</div>;\r\n            } else {\r\n                // return <div>Major: {this.state._info.Name}</div>\r\n                return this.props.children;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Timer to pick up _sheetRef? \r\n\r\n    public setSheetRef(sheetRef: any): void {\r\n        var httpClient = XC.XClient.New(sheetRef.Server, sheetRef.AuthToken, undefined);\r\n        var sheetClient = new trcSheet.SheetClient(httpClient, sheetRef.SheetId);\r\n\r\n        // Make async network call...\r\n        this.setState({\r\n            SheetId: sheetRef.SheetId,\r\n            SheetClient: sheetClient\r\n        }, () => {\r\n            // State is updated \r\n            \r\n            this.state.SheetClient.getInfoAsync().then((info) => {                \r\n                _trcGlobal = {\r\n                    ...this.state,                    \r\n                };\r\n                _trcGlobal._info = info;\r\n                this.setState({ _info: info });\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\n\r\nReactDOM.render(\r\n    <div>\r\n        <Major>\r\n            The current sheet is: <SheetName />\r\n            <ColumnSelector OnChange={(e) => alert(e.Name)} />\r\n        </Major>\r\n\r\n        <Hello compiler=\"TypeScript\" framework=\"React\" />\r\n    </div>,\r\n    document.getElementById(\"example\")\r\n);","module.exports = ReactDOM;","import * as React from \"react\";\r\n\r\nexport interface HelloProps { compiler: string; framework: string; }\r\n\r\nexport const Hello = (props: HelloProps) => <h1>Hello from {props.compiler} and {props.framework}!</h1>;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar common = require(\"./common\");\r\nvar HttpClient = (function () {\r\n    function HttpClient(protocol, hostName) {\r\n        this._protocol = protocol;\r\n        this._hostname = hostName;\r\n    }\r\n    HttpClient.prototype.sendAsync = function (verb, path, body, authHeader, geo, onSuccess, onFailure) {\r\n        var _this = this;\r\n        var url;\r\n        if (path.indexOf(\"http\") == 0) {\r\n            url = path;\r\n        }\r\n        else {\r\n            url = this._protocol + \"://\" + this._hostname + path;\r\n        }\r\n        $.ajax({\r\n            url: url,\r\n            type: verb,\r\n            contentType: \"application/json\",\r\n            beforeSend: function (xhr) {\r\n                xhr.setRequestHeader('accept', 'application/json');\r\n                if (authHeader != null) {\r\n                    xhr.setRequestHeader(\"Authorization\", authHeader);\r\n                }\r\n                if (geo != null) {\r\n                    xhr.setRequestHeader(\"x-lat\", geo.Lat);\r\n                    xhr.setRequestHeader(\"x-long\", geo.Long);\r\n                }\r\n            },\r\n            data: (body == null) ? undefined : JSON.stringify(body),\r\n            success: function (data, textStatus, xhr) {\r\n                var status = xhr.status;\r\n                if (status == 202) {\r\n                    var loc = xhr.getResponseHeader('Location');\r\n                    if (!!loc) {\r\n                        setTimeout(function () {\r\n                            _this.sendAsync(\"GET\", loc, null, authHeader, geo, onSuccess, onFailure);\r\n                        }, 5 * 1000);\r\n                        return;\r\n                    }\r\n                }\r\n                onSuccess(data);\r\n            },\r\n            error: function (xhr, statusText, errorThrown) {\r\n                var obj = xhr.responseJSON;\r\n                if (!obj || !obj.Message) {\r\n                    var code = xhr.status;\r\n                    var msg = \"(\" + statusText + \") Error \" + code + \" from \" + verb + \" \" + url;\r\n                    onFailure(common.makeError(code, msg));\r\n                }\r\n                else {\r\n                    onFailure(obj);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return HttpClient;\r\n}());\r\nexports.HttpClient = HttpClient;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MockGpsTracker = (function () {\r\n    function MockGpsTracker() {\r\n    }\r\n    MockGpsTracker.prototype.MockGpsTracker = function () {\r\n        this._geo = { Lat: 0, Long: 0 };\r\n    };\r\n    MockGpsTracker.prototype.getLoc = function () {\r\n        return this._geo;\r\n    };\r\n    MockGpsTracker.prototype.setLocation = function (geo) {\r\n        this._geo = geo;\r\n    };\r\n    return MockGpsTracker;\r\n}());\r\nexports.MockGpsTracker = MockGpsTracker;\r\nfunction makeError(code, message) {\r\n    return {\r\n        Code: code,\r\n        Message: (message == undefined) ? null : message,\r\n        InternalDetails: null,\r\n        CorrelationId: null\r\n    };\r\n}\r\nexports.makeError = makeError;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core = require(\"trc-core/core\");\r\nvar XC = require(\"trc-httpshim/xclient\");\r\nvar sheetContents_1 = require(\"./sheetContents\");\r\nvar Validators = (function () {\r\n    function Validators() {\r\n    }\r\n    Validators.ValidateColumnName = function (name) {\r\n        if (name == null) {\r\n            throw 'Column Name is missing';\r\n        }\r\n        if (!Validators._columnNameRegex.test(name)) {\r\n            throw 'Column Name is not valid: ' + name;\r\n        }\r\n    };\r\n    Validators.ValidateHelper = function (columnName, description, possibleValues) {\r\n        Validators.ValidateColumnName(columnName);\r\n        if (description != null) {\r\n            if (description.length > 400) {\r\n                throw \"Description is too long for '\" + columnName + \"'\";\r\n            }\r\n        }\r\n        if (possibleValues != null) {\r\n            if (possibleValues.length > 15) {\r\n                throw \"Too many possible values in question '\" + columnName + \"'\";\r\n            }\r\n            for (var k in possibleValues) {\r\n                var item = possibleValues[k];\r\n                if (!item) {\r\n                    throw \"possible values can't be null in question '\" + columnName + \"'\";\r\n                }\r\n                if (item.length > 50) {\r\n                    throw \"Possible value is too long for '\" + columnName + \"'\";\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Validators.ValidateColumnInfo = function (info) {\r\n        Validators.ValidateHelper(info.Name, info.Description, info.PossibleValues);\r\n        if (!!info.Expression && !!info.Semantic) {\r\n            throw \"Can't send both Expression and Semantic properties on a column: '\" + info.Name + \"'.\";\r\n        }\r\n        if (!!info.Expression && !info.IsReadOnly) {\r\n            throw \"Expression columns must be read-only: '\" + info.Name + \"'.\";\r\n        }\r\n    };\r\n    Validators.ValidateAddColumn = function (payload) {\r\n        Validators.ValidateHelper(payload.ColumnName, payload.Description, payload.PossibleValues);\r\n    };\r\n    Validators._columnNameRegex = new RegExp(\"^[a-zA-Z0-9_]+$\");\r\n    return Validators;\r\n}());\r\nexports.Validators = Validators;\r\nexports.PolygonKind = \"_polygon\";\r\nvar NextLinkEnumerable = (function () {\r\n    function NextLinkEnumerable(firstSegment, http) {\r\n        this._firstSegment = firstSegment;\r\n        this._http = http;\r\n    }\r\n    NextLinkEnumerable.prototype.ForEach = function (handler) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var worker = function (de) {\r\n                var results = de.Results;\r\n                if (results != null) {\r\n                    for (var i in results) {\r\n                        var item = results[i];\r\n                        try {\r\n                            handler(item);\r\n                        }\r\n                        catch (e) {\r\n                            reject(e);\r\n                        }\r\n                    }\r\n                }\r\n                if (de.NextLink != null) {\r\n                    _this._http.getAsync(de.NextLink).then(function (segment) {\r\n                        worker(segment);\r\n                    }).catch(function (error) { return reject(error); });\r\n                }\r\n                else {\r\n                    resolve();\r\n                }\r\n            };\r\n            worker(_this._firstSegment);\r\n        });\r\n    };\r\n    return NextLinkEnumerable;\r\n}());\r\nvar SheetClient = (function () {\r\n    function SheetClient(http, sheetId) {\r\n        this._http = http;\r\n        this._sheetId = sheetId;\r\n    }\r\n    SheetClient.prototype.getId = function () {\r\n        return this._sheetId;\r\n    };\r\n    SheetClient.prototype.getSheetById = function (idChild) {\r\n        return new SheetClient(this._http, idChild);\r\n    };\r\n    SheetClient.prototype.getUrlBase = function (path) {\r\n        if (path === void 0) { path = \"\"; }\r\n        var url = new XC.UrlBuilder(\"/sheets/\" + this._sheetId + path);\r\n        return url;\r\n    };\r\n    SheetClient.prototype.getInfoAsync = function () {\r\n        var url = this.getUrlBase(\"/info\");\r\n        return this._http.getAsync(url);\r\n    };\r\n    SheetClient.prototype.getSheetContentsAsync = function (whereExpression, selectColumns, version) {\r\n        var url = this.getUrlBase();\r\n        url.addQuery(\"filter\", whereExpression);\r\n        if (selectColumns != null && selectColumns != undefined) {\r\n            url.addQuery(\"select\", selectColumns.join());\r\n        }\r\n        url.addQuery(\"version\", version);\r\n        return this._http.getAsync(url);\r\n    };\r\n    SheetClient.prototype.getRecIdsAsync = function () {\r\n        var selectColumns = [sheetContents_1.ColumnNames.RecId];\r\n        return this.getSheetContentsAsync(null, selectColumns).then(function (contents) {\r\n            return contents[sheetContents_1.ColumnNames.RecId];\r\n        });\r\n    };\r\n    SheetClient.prototype.postUpdateSingleRowAsync = function (recId, columnNames, newValues) {\r\n        var body = sheetContents_1.SheetContents.FromRow(recId, columnNames, newValues);\r\n        return this.postUpdateAsync(body);\r\n    };\r\n    SheetClient.prototype.postUpdateSingleCellAsync = function (recId, columnName, newValue) {\r\n        var body = sheetContents_1.SheetContents.FromSingleCell(recId, columnName, newValue);\r\n        return this.postUpdateAsync(body);\r\n    };\r\n    SheetClient.prototype.postUpdateAsync = function (values) {\r\n        var url = this.getUrlBase();\r\n        return this._http.sendAsync(\"POST\", url, values);\r\n    };\r\n    SheetClient.prototype.getDeltaRangeAsync = function (startVersion, endVersion) {\r\n        var _this = this;\r\n        var uri = this.getUrlBase(\"/deltas\");\r\n        uri.addQuery(\"start\", startVersion);\r\n        uri.addQuery(\"end\", endVersion);\r\n        return this._http.getAsync(uri).then(function (segment) {\r\n            return new NextLinkEnumerable(segment, _this._http);\r\n        });\r\n    };\r\n    SheetClient.prototype.getDeltaAsync = function (version) {\r\n        var uri = this.getUrlBase(\"/history/\" + version);\r\n        return this._http.getAsync(uri);\r\n    };\r\n    SheetClient.prototype.findVersionAsync = function (timestamp) {\r\n        var uri = this.getUrlBase(\"/history/find?timestamp=\" + timestamp.toISOString());\r\n        return this._http.getAsync(uri).\r\n            then(function (result) { return result.VersionNumber; });\r\n    };\r\n    SheetClient.prototype.getRebaseLogAsync = function () {\r\n        var _this = this;\r\n        var uri = this.getUrlBase(\"/history/rebase\");\r\n        return this._http.getAsync(uri).\r\n            then(function (segment) { return new NextLinkEnumerable(segment, _this._http); });\r\n    };\r\n    SheetClient.prototype.getChildrenAsync = function () {\r\n        var uri = this.getUrlBase(\"/child\");\r\n        return this._http.getAsync(uri).\r\n            then(function (result) { return result.ChildrenIds; });\r\n    };\r\n    SheetClient.prototype.createChildSheet = function (body) {\r\n        var _this = this;\r\n        var uri = this.getUrlBase(\"/child\");\r\n        return this._http.postAsync(uri, body).\r\n            then(function (result) { return _this.getSheetById(result.Id); });\r\n    };\r\n    SheetClient.prototype.createChildSheetFromFilterAsync = function (name, whereExpression, sharesSandbox) {\r\n        var body = {\r\n            Name: name,\r\n            Filter: {\r\n                WhereExpression: whereExpression\r\n            },\r\n            RecIds: null,\r\n            ShareSandbox: sharesSandbox,\r\n        };\r\n        return this.createChildSheet(body);\r\n    };\r\n    SheetClient.prototype.deleteChildSheetAsync = function (childSheetId) {\r\n        var uri = this.getUrlBase(\"/child/\" + childSheetId);\r\n        return this._http.deleteAsync(uri);\r\n    };\r\n    SheetClient.prototype.postCustomDataAsync = function (kind, dataId, body) {\r\n        var url = this.getUrlBase(\"/data/\" + kind + \"/\" + dataId);\r\n        return this._http.sendAsync(\"POST\", url, body);\r\n    };\r\n    SheetClient.prototype.getCustomDataAsync = function (kind, dataId) {\r\n        var url = this.getUrlBase(\"/data/\" + kind + \"/\" + dataId);\r\n        return this._http.getAsync(url);\r\n    };\r\n    SheetClient.prototype.deleteCustomDataAsync = function (kind, dataId) {\r\n        var url = this.getUrlBase(\"/data/\" + kind + \"/\" + dataId);\r\n        return this._http.deleteAsync(url);\r\n    };\r\n    SheetClient.prototype.listCustomDataAsync = function (kind) {\r\n        var url = this.getUrlBase(\"/data/\" + kind);\r\n        return this._http.getAsync(url).then(function (list) {\r\n            return new core.ArrayEnumerable(list.Entries);\r\n        });\r\n    };\r\n    return SheetClient;\r\n}());\r\nexports.SheetClient = SheetClient;\r\nvar SheetAdminClient = (function () {\r\n    function SheetAdminClient(sheetClient) {\r\n        this._client = sheetClient;\r\n    }\r\n    SheetAdminClient.prototype.postNewExpressionAsync = function (name, expression) {\r\n        try {\r\n            Validators.ValidateColumnName(name);\r\n            var body = {\r\n                Name: name,\r\n                IsReadOnly: true,\r\n                Expression: expression\r\n            };\r\n            var uri = this._client.getUrlBase(\"/columns/\" + name);\r\n            return this._client._http.postAsync(uri, body);\r\n        }\r\n        catch (error) {\r\n            return Promise.reject(error);\r\n        }\r\n    };\r\n    SheetAdminClient.prototype.getOpStatusAsync = function () {\r\n        var uri = this._client.getUrlBase(\"/ops\");\r\n        return this._client._http.getAsync(uri);\r\n    };\r\n    SheetAdminClient.prototype.postOpAsync = function (kind, payload) {\r\n        var body = {\r\n            SheetId: this._client._sheetId,\r\n            Kind: kind,\r\n            Cookie: null,\r\n            Payload: payload\r\n        };\r\n        var uri = this._client.getUrlBase(\"/ops\");\r\n        return this._client._http.putAsync(uri, body);\r\n    };\r\n    SheetAdminClient.prototype.postOpRefreshAsync = function () {\r\n        var payload = {};\r\n        return this.postOpAsync(\"RefreshContents\", payload);\r\n    };\r\n    SheetAdminClient.prototype.postOpCreateOrUpdateColumnsAsync = function (columns) {\r\n        var payload = {\r\n            Infos: columns\r\n        };\r\n        try {\r\n            columns.forEach(function (item) { return Validators.ValidateColumnInfo(item); });\r\n        }\r\n        catch (error) {\r\n            return Promise.reject(error);\r\n        }\r\n        return this.postOpAsync(\"AddColumns\", payload);\r\n    };\r\n    SheetAdminClient.prototype.postOpAddQuestionAsync = function (questions) {\r\n        var payload = {\r\n            Columns: questions\r\n        };\r\n        try {\r\n            for (var i in questions) {\r\n                var item = questions[i];\r\n                Validators.ValidateAddColumn(item);\r\n            }\r\n        }\r\n        catch (error) {\r\n            return Promise.reject(error);\r\n        }\r\n        return this.postOpAsync(\"AddColumns\", payload);\r\n    };\r\n    SheetAdminClient.prototype.postOpDeleteQuestionAsync = function (columnName) {\r\n        var payload = {\r\n            ColumnName: columnName\r\n        };\r\n        return this.postOpAsync(\"DeleteColumn\", payload);\r\n    };\r\n    SheetAdminClient.prototype.WaitAsync = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitHelper(resolve, reject);\r\n        });\r\n    };\r\n    SheetAdminClient.prototype.waitHelper = function (resolve, reject) {\r\n        var _this = this;\r\n        this.getOpStatusAsync().then(function (value) {\r\n            if (value.CurrentOp == null) {\r\n                resolve();\r\n                return;\r\n            }\r\n            setTimeout(function () {\r\n                _this.waitHelper(resolve, reject);\r\n            }, 5 * 1000);\r\n        }).catch(function (err) { return reject(err); });\r\n    };\r\n    return SheetAdminClient;\r\n}());\r\nexports.SheetAdminClient = SheetAdminClient;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ArrayEnumerable = (function () {\r\n    function ArrayEnumerable(items) {\r\n        this._items = items;\r\n    }\r\n    ArrayEnumerable.prototype.ForEach = function (handler) {\r\n        try {\r\n            if (this._items != null) {\r\n                for (var i in this._items) {\r\n                    var item = this._items[i];\r\n                    handler(item);\r\n                }\r\n            }\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    };\r\n    return ArrayEnumerable;\r\n}());\r\nexports.ArrayEnumerable = ArrayEnumerable;\r\nvar UserClient = (function () {\r\n    function UserClient(http) {\r\n        this._http = http;\r\n    }\r\n    UserClient.prototype.getUserInfoAsync = function (userId) {\r\n        if (!userId) {\r\n            return this._http.getAsync(\"/me\");\r\n        }\r\n        else {\r\n            return this._http.getAsync(\"/user/\" + userId);\r\n        }\r\n    };\r\n    UserClient.prototype.getActivityFeedAsync = function () {\r\n        return this._http.getAsync(\"/me/feed/rss\");\r\n    };\r\n    return UserClient;\r\n}());\r\nexports.UserClient = UserClient;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ColumnNames = (function () {\r\n    function ColumnNames() {\r\n    }\r\n    ColumnNames.RecId = \"RecId\";\r\n    ColumnNames.FirstName = \"FirstName\";\r\n    ColumnNames.LastName = \"LastName\";\r\n    ColumnNames.Party = \"Party\";\r\n    ColumnNames.Address = \"Address\";\r\n    ColumnNames.City = \"City\";\r\n    ColumnNames.Zip = \"Zip\";\r\n    ColumnNames.Lat = \"Lat\";\r\n    ColumnNames.Long = \"Long\";\r\n    ColumnNames.XVoted = \"XVoted\";\r\n    ColumnNames.XTargetPri = \"XTargetPri\";\r\n    ColumnNames.PrecinctName = \"PrecinctName\";\r\n    ColumnNames.Cellphone = \"Cellphone\";\r\n    ColumnNames.HHID = \"HHID\";\r\n    ColumnNames.XUser = \"XUser\";\r\n    ColumnNames.XApp = \"XApp\";\r\n    ColumnNames.XLat = \"XLat\";\r\n    ColumnNames.XLong = \"XLong\";\r\n    ColumnNames.XLastModified = \"XLastModified\";\r\n    ColumnNames.XIPAddress = \"XIPAddress\";\r\n    return ColumnNames;\r\n}());\r\nexports.ColumnNames = ColumnNames;\r\nvar SheetContentsIndex = (function () {\r\n    function SheetContentsIndex(source) {\r\n        this._map = {};\r\n        this._source = source;\r\n        var cRecId = source[\"RecId\"];\r\n        for (var i = 0; i < cRecId.length; i++) {\r\n            var recId = cRecId[i];\r\n            this._map[recId] = i;\r\n        }\r\n    }\r\n    SheetContentsIndex.prototype.lookupRecId = function (recId) {\r\n        var idx = this._map[recId];\r\n        if (idx == undefined) {\r\n            return -1;\r\n        }\r\n        return idx;\r\n    };\r\n    SheetContentsIndex.prototype.set = function (recId, columnName, newValue) {\r\n        var idx = this.lookupRecId(recId);\r\n        if (idx != -1) {\r\n            this._source[columnName][idx] = newValue;\r\n        }\r\n    };\r\n    SheetContentsIndex.prototype.getContents = function () {\r\n        return this._source;\r\n    };\r\n    return SheetContentsIndex;\r\n}());\r\nexports.SheetContentsIndex = SheetContentsIndex;\r\nvar SheetContents = (function () {\r\n    function SheetContents() {\r\n    }\r\n    SheetContents.getSheetContentsIndex = function (source) {\r\n        return new SheetContentsIndex(source);\r\n    };\r\n    SheetContents.toCsv = function (data) {\r\n        var colKeys = Object.keys(data);\r\n        var grid = [];\r\n        var rowCount = data[colKeys[0]].length;\r\n        var index = 0;\r\n        grid.push(colKeys);\r\n        while (index < rowCount) {\r\n            var row = [];\r\n            for (var _i = 0, colKeys_1 = colKeys; _i < colKeys_1.length; _i++) {\r\n                var colKey = colKeys_1[_i];\r\n                var direct = data[colKey][index];\r\n                var val;\r\n                if (direct == null || direct == undefined) {\r\n                    val = \"\";\r\n                }\r\n                else {\r\n                    val = direct.toString();\r\n                    try {\r\n                        val = val.replace(\"\\\"\", \"'\");\r\n                        if (val.indexOf(\",\") >= 0) {\r\n                            val = \"\\\"\" + val + \"\\\"\";\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        val = \"???\";\r\n                    }\r\n                }\r\n                row.push(val);\r\n            }\r\n            grid.push(row);\r\n            index++;\r\n        }\r\n        var content = \"\";\r\n        grid.forEach(function (arr, index) {\r\n            var row = arr.join(\",\");\r\n            content += index < grid.length ? row + \"\\r\\n\" : row;\r\n        });\r\n        return content;\r\n    };\r\n    SheetContents.ForEach = function (source, callback) {\r\n        var colRecId = source[ColumnNames.RecId];\r\n        for (var columnName in source) {\r\n            var column = source[columnName];\r\n            if (column == colRecId) {\r\n                continue;\r\n            }\r\n            for (var i = 0; i < column.length; i++) {\r\n                var recId = colRecId[i];\r\n                var newValue = column[i];\r\n                callback(recId, columnName, newValue);\r\n            }\r\n        }\r\n    };\r\n    SheetContents.FromSingleCell = function (recId, columnName, newValue) {\r\n        var body = {};\r\n        body[ColumnNames.RecId] = [recId];\r\n        body[columnName] = [newValue];\r\n        return body;\r\n    };\r\n    SheetContents.FromRow = function (recId, columnNames, newValues) {\r\n        if (columnNames.length != newValues.length) {\r\n            throw \"length mismatch\";\r\n        }\r\n        var body = {};\r\n        body[ColumnNames.RecId] = [recId];\r\n        for (var i = 0; i < columnNames.length; i++) {\r\n            var columnName = columnNames[i];\r\n            var newValue = newValues[i];\r\n            body[columnName] = [newValue];\r\n        }\r\n        return body;\r\n    };\r\n    SheetContents.KeepRows = function (source, fpInclude) {\r\n        var columnNames = [];\r\n        var results = {};\r\n        var len = -1;\r\n        for (var columnName in source) {\r\n            if (len == -1) {\r\n                len = source[columnName].length;\r\n            }\r\n            columnNames.push(columnName);\r\n            results[columnName] = [];\r\n        }\r\n        for (var iRow = 0; iRow < len; iRow++) {\r\n            var keepRow = fpInclude(iRow);\r\n            if (keepRow) {\r\n                for (var x in columnNames) {\r\n                    var columnName = columnNames[x];\r\n                    var val = source[columnName][iRow];\r\n                    results[columnName].push(val);\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    };\r\n    SheetContents.TakeN = function (sheet, topN) {\r\n        var sheet2 = {};\r\n        for (var key in sheet) {\r\n            var value = sheet[key];\r\n            sheet2[key] = value.slice(0, topN);\r\n        }\r\n        return sheet2;\r\n    };\r\n    SheetContents.AddTimestamp = function (source, gps) {\r\n        if (gps === void 0) { gps = null; }\r\n        var curTime = new Date().toISOString();\r\n        var cs = [];\r\n        var vs = [];\r\n        cs.push(ColumnNames.XLastModified);\r\n        vs.push(curTime);\r\n        if (!!gps) {\r\n            var loc = gps.getLoc();\r\n            cs.push(ColumnNames.XLat);\r\n            cs.push(ColumnNames.XLong);\r\n            vs.push(loc.Lat.toString());\r\n            vs.push(loc.Long.toString());\r\n        }\r\n        return SheetContents.Append(source, cs, vs);\r\n    };\r\n    SheetContents.Append = function (source, newColumns, newValues) {\r\n        var results = {};\r\n        var numRows = -1;\r\n        for (var columnName in source) {\r\n            if (numRows == -1) {\r\n                numRows = source[columnName].length;\r\n            }\r\n            results[columnName] = [];\r\n        }\r\n        for (var i in newColumns) {\r\n            var columnName = newColumns[i];\r\n            results[columnName] = [];\r\n        }\r\n        for (var iRow = 0; iRow < numRows; iRow++) {\r\n            for (var columnName in source) {\r\n                var val = source[columnName][iRow];\r\n                results[columnName].push(val);\r\n            }\r\n            for (var i in newColumns) {\r\n                var columnName = newColumns[i];\r\n                var val = newValues[i];\r\n                results[columnName].push(val);\r\n            }\r\n        }\r\n        return results;\r\n    };\r\n    return SheetContents;\r\n}());\r\nexports.SheetContents = SheetContents;\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport * as trcSheet from 'trc-sheet/sheet'\r\n\r\n// $$$ Share this wiht main \r\nexport interface IMajorState {\r\n    //AuthToken: string;\r\n    SheetClient: trcSheet.SheetClient;\r\n    SheetId: string;\r\n\r\n    _info: trcSheet.ISheetInfoResult;\r\n    // Sheet Contents?  Sheet History? \r\n}\r\ndeclare var _trcGlobal : IMajorState;\r\n\r\n\r\n// Select a column name from the sheet. \r\nexport interface IColumnSelectorProps {\r\n    // Add props to restrict selection (Predicate on ColumnInfo?)\r\n    OnChange : (ci : trcSheet.IColumnInfo) => void; // CAlled when a selection is made\r\n}\r\nexport class ColumnSelector extends React.Component<IColumnSelectorProps, {}> {\r\n    constructor(props : any) {\r\n        super(props);\r\n        this.state = { };    \r\n        this.handleChange = this.handleChange.bind(this);\r\n      }\r\n\r\n    private getValues() : string[] {\r\n        var cs = _trcGlobal._info.Columns;\r\n        return cs.map(c => c.Name);\r\n    }\r\n\r\n    handleChange(event: any) {\r\n        var idx = event.target.value;\r\n        //alert(\"set: \" + idx);\r\n        // this.setState({value: event.target.value});\r\n        var ci = _trcGlobal._info.Columns[idx];\r\n        this.props.OnChange(ci);\r\n      }\r\n\r\n    render() {        \r\n         return <select onChange={this.handleChange}>\r\n             {this.getValues().map((name,idx) => <option value={idx}>{name}</option>)}\r\n         </select>   \r\n    }\r\n}\r\n"],"sourceRoot":""}